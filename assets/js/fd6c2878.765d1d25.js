"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[45280],{624425:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>g,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var i=n(487462),a=(n(667294),n(603905));const r={id:"api_login_register_controller.RegisterController",title:"Class: RegisterController",sidebar_label:"RegisterController",custom_edit_url:null},l=void 0,s={unversionedId:"login-service-api/classes/api_login_register_controller.RegisterController",id:"login-service-api/classes/api_login_register_controller.RegisterController",title:"Class: RegisterController",description:"api-login/register.controller.RegisterController",source:"@site/docs/login-service-api/classes/api_login_register_controller.RegisterController.md",sourceDirName:"login-service-api/classes",slug:"/login-service-api/classes/api_login_register_controller.RegisterController",permalink:"/gropius-backend-docs/login-service-api/classes/api_login_register_controller.RegisterController",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"api_login_register_controller.RegisterController",title:"Class: RegisterController",sidebar_label:"RegisterController",custom_edit_url:null},sidebar:"apiSidebar",previous:{title:"UserDataSuggestionResponse",permalink:"/gropius-backend-docs/login-service-api/classes/api_login_dto_user_inputs_dto.UserDataSuggestionResponse"},next:{title:"CreateStrategyInstanceInput",permalink:"/gropius-backend-docs/login-service-api/classes/api_login_strategy_dto_create_strategy_instance_dto.CreateStrategyInstanceInput"}},o={},p=[{value:"Constructors",id:"constructors",level:2},{value:"constructor",id:"constructor",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Properties",id:"properties",level:2},{value:"activeLoginService",id:"activeloginservice",level:3},{value:"Defined in",id:"defined-in-1",level:4},{value:"backendUserSerivce",id:"backenduserserivce",level:3},{value:"Defined in",id:"defined-in-2",level:4},{value:"checkRegistrationTokenService",id:"checkregistrationtokenservice",level:3},{value:"Defined in",id:"defined-in-3",level:4},{value:"loginDataService",id:"logindataservice",level:3},{value:"Defined in",id:"defined-in-4",level:4},{value:"strategiesSerivce",id:"strategiesserivce",level:3},{value:"Defined in",id:"defined-in-5",level:4},{value:"userService",id:"userservice",level:3},{value:"Defined in",id:"defined-in-6",level:4},{value:"Methods",id:"methods",level:2},{value:"adminLink",id:"adminlink",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns",level:4},{value:"Defined in",id:"defined-in-7",level:4},{value:"getDataSuggestions",id:"getdatasuggestions",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Defined in",id:"defined-in-8",level:4},{value:"linkAccountToUser",id:"linkaccounttouser",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-2",level:4},{value:"Defined in",id:"defined-in-9",level:4},{value:"register",id:"register",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Defined in",id:"defined-in-10",level:4},{value:"selfLink",id:"selflink",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-4",level:4},{value:"Defined in",id:"defined-in-11",level:4}],d={toc:p},c="wrapper";function g(e){let{components:t,...n}=e;return(0,a.kt)(c,(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/modules/api_login_register_controller"},"api-login/register.controller"),".RegisterController"),(0,a.kt)("p",null,"Controller for handling self registration of new users as well as linking of existing users to new loginData"),(0,a.kt)("h2",{id:"constructors"},"Constructors"),(0,a.kt)("h3",{id:"constructor"},"constructor"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("strong",{parentName:"p"},"new RegisterController"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"checkRegistrationTokenService"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"loginDataService"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"userService"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"activeLoginService"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"backendUserSerivce"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"strategiesSerivce"),")"),(0,a.kt)("h4",{id:"parameters"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"checkRegistrationTokenService")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/api_login_check_registration_token_service.CheckRegistrationTokenService"},(0,a.kt)("inlineCode",{parentName:"a"},"CheckRegistrationTokenService")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"loginDataService")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/model_services_user_login_data_service.UserLoginDataService"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginDataService")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"userService")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/model_services_login_user_service.LoginUserService"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUserService")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"activeLoginService")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/model_services_active_login_service.ActiveLoginService"},(0,a.kt)("inlineCode",{parentName:"a"},"ActiveLoginService")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"backendUserSerivce")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/backend_services_backend_user_service.BackendUserService"},(0,a.kt)("inlineCode",{parentName:"a"},"BackendUserService")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"strategiesSerivce")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/model_services_strategies_service.StrategiesService"},(0,a.kt)("inlineCode",{parentName:"a"},"StrategiesService")))))),(0,a.kt)("h4",{id:"defined-in"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L34"},"login-service/src/api-login/register.controller.ts:34")),(0,a.kt)("h2",{id:"properties"},"Properties"),(0,a.kt)("h3",{id:"activeloginservice"},"activeLoginService"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"activeLoginService"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/model_services_active_login_service.ActiveLoginService"},(0,a.kt)("inlineCode",{parentName:"a"},"ActiveLoginService"))),(0,a.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L38"},"login-service/src/api-login/register.controller.ts:38")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"backenduserserivce"},"backendUserSerivce"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"backendUserSerivce"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/backend_services_backend_user_service.BackendUserService"},(0,a.kt)("inlineCode",{parentName:"a"},"BackendUserService"))),(0,a.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L39"},"login-service/src/api-login/register.controller.ts:39")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"checkregistrationtokenservice"},"checkRegistrationTokenService"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"checkRegistrationTokenService"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/api_login_check_registration_token_service.CheckRegistrationTokenService"},(0,a.kt)("inlineCode",{parentName:"a"},"CheckRegistrationTokenService"))),(0,a.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L35"},"login-service/src/api-login/register.controller.ts:35")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"logindataservice"},"loginDataService"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"loginDataService"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/model_services_user_login_data_service.UserLoginDataService"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginDataService"))),(0,a.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L36"},"login-service/src/api-login/register.controller.ts:36")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"strategiesserivce"},"strategiesSerivce"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"strategiesSerivce"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/model_services_strategies_service.StrategiesService"},(0,a.kt)("inlineCode",{parentName:"a"},"StrategiesService"))),(0,a.kt)("h4",{id:"defined-in-5"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L40"},"login-service/src/api-login/register.controller.ts:40")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"userservice"},"userService"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"userService"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/model_services_login_user_service.LoginUserService"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUserService"))),(0,a.kt)("h4",{id:"defined-in-6"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L37"},"login-service/src/api-login/register.controller.ts:37")),(0,a.kt)("h2",{id:"methods"},"Methods"),(0,a.kt)("h3",{id:"adminlink"},"adminLink"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"adminLink"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"input"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"res"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/default_return_dto.DefaultReturn"},(0,a.kt)("inlineCode",{parentName:"a"},"DefaultReturn")),">"),(0,a.kt)("p",null,"Links a new authentication with any user specified by id"),(0,a.kt)("p",null,"Needs admin permissions"),(0,a.kt)("p",null,"A (still) valid registration token is needed.\nAfter a successful linking, the expiration of the activeLogin and loginData will be updated accoringly"),(0,a.kt)("h4",{id:"parameters-1"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"input")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/api_login_dto_link_user_dto.AdminLinkUserInput"},(0,a.kt)("inlineCode",{parentName:"a"},"AdminLinkUserInput"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The input with the registration_token and the user id of the user to link")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"res")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"Response"),"<",(0,a.kt)("inlineCode",{parentName:"td"},"any"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"Record"),"<",(0,a.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"any"),">",">"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The response object of the server containing the state with the logged in user")))),(0,a.kt)("h4",{id:"returns"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/default_return_dto.DefaultReturn"},(0,a.kt)("inlineCode",{parentName:"a"},"DefaultReturn")),">"),(0,a.kt)("p",null,"The default response with operation 'admin-link'"),(0,a.kt)("h4",{id:"defined-in-7"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L205"},"login-service/src/api-login/register.controller.ts:205")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"getdatasuggestions"},"getDataSuggestions"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"getDataSuggestions"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"input"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/api_login_dto_user_inputs_dto.UserDataSuggestionResponse"},(0,a.kt)("inlineCode",{parentName:"a"},"UserDataSuggestionResponse")),">"),(0,a.kt)("p",null,"Return username, display name and email suggestions for registering a user"),(0,a.kt)("h4",{id:"parameters-2"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"input")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/api_login_dto_link_user_dto.RegistrationTokenInput"},(0,a.kt)("inlineCode",{parentName:"a"},"RegistrationTokenInput"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The input data containing the registration token to retrieve suggestions for")))),(0,a.kt)("h4",{id:"returns-1"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/api_login_dto_user_inputs_dto.UserDataSuggestionResponse"},(0,a.kt)("inlineCode",{parentName:"a"},"UserDataSuggestionResponse")),">"),(0,a.kt)("h4",{id:"defined-in-8"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L60"},"login-service/src/api-login/register.controller.ts:60")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"linkaccounttouser"},"linkAccountToUser"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("strong",{parentName:"p"},"linkAccountToUser"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"userToLinkTo"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"loginData"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"activeLogin"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,a.kt)("inlineCode",{parentName:"p"},"loggedInUser"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser"))," ; ",(0,a.kt)("inlineCode",{parentName:"p"},"loginData"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/model_postgres_UserLoginData_entity.UserLoginData"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginData")),"  }",">"),(0,a.kt)("p",null,"Helper function performing tha actual linking of login data with user."),(0,a.kt)("p",null,"If the given login data already has a user set, the user must match the given one,\nelse a INTERNAL_SERVER_ERROR is raised."),(0,a.kt)("p",null,"The expiration of the loginData will be removed.\nThe expiration of the activeLogin will be set to the default login expiration time,\nexcept if the strategy supports sync, then the active login will never expire.\nThe state of the loginData will be updated to VALID if it was WAITING_FOR_REGISER before"),(0,a.kt)("h4",{id:"parameters-3"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"userToLinkTo")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The user account to link the new authentication to")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"loginData")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/model_postgres_UserLoginData_entity.UserLoginData"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginData"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The new authentication to link to the user")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"activeLogin")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/model_postgres_ActiveLogin_entity.ActiveLogin"},(0,a.kt)("inlineCode",{parentName:"a"},"ActiveLogin"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The active login that was created during the authentication flow")))),(0,a.kt)("h4",{id:"returns-2"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,a.kt)("inlineCode",{parentName:"p"},"loggedInUser"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser"))," ; ",(0,a.kt)("inlineCode",{parentName:"p"},"loginData"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/model_postgres_UserLoginData_entity.UserLoginData"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginData")),"  }",">"),(0,a.kt)("p",null,"The saved and updated user and login data after linking"),(0,a.kt)("h4",{id:"defined-in-9"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L242"},"login-service/src/api-login/register.controller.ts:242")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"register"},"register"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"register"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"input"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/default_return_dto.DefaultReturn"},(0,a.kt)("inlineCode",{parentName:"a"},"DefaultReturn")),">"),(0,a.kt)("p",null,"Given user data and a registration token, this will create a new user for the registration.\nThe user will also be created in the backend."),(0,a.kt)("p",null,"For the creation to succeed, the registration token and the registration may not be expired yet."),(0,a.kt)("h4",{id:"parameters-4"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"input")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/api_login_dto_user_inputs_dto.SelfRegisterUserInput"},(0,a.kt)("inlineCode",{parentName:"a"},"SelfRegisterUserInput"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The input data for creating a new user")))),(0,a.kt)("h4",{id:"returns-3"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/default_return_dto.DefaultReturn"},(0,a.kt)("inlineCode",{parentName:"a"},"DefaultReturn")),">"),(0,a.kt)("p",null,'The default return with operation "self-register"'),(0,a.kt)("h4",{id:"defined-in-10"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L121"},"login-service/src/api-login/register.controller.ts:121")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"selflink"},"selfLink"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"selfLink"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"input"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"res"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/default_return_dto.DefaultReturn"},(0,a.kt)("inlineCode",{parentName:"a"},"DefaultReturn")),">"),(0,a.kt)("p",null,"Links a new authentication with a strategy instance with the currently logged in user.\nFor future logins using that authentication the user will be directly found"),(0,a.kt)("p",null,"A (still) valid registration token is needed.\nAfter a successful linking, the expiration of the activeLogin and loginData will be updated accoringly"),(0,a.kt)("h4",{id:"parameters-5"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"input")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-backend-docs/login-service-api/classes/api_login_dto_link_user_dto.RegistrationTokenInput"},(0,a.kt)("inlineCode",{parentName:"a"},"RegistrationTokenInput"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The input containing the registration token obtained from the authentication flow")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"res")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"Response"),"<",(0,a.kt)("inlineCode",{parentName:"td"},"any"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"Record"),"<",(0,a.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"any"),">",">"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The response object of the server containing the state with the logged in user")))),(0,a.kt)("h4",{id:"returns-4"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-backend-docs/login-service-api/classes/default_return_dto.DefaultReturn"},(0,a.kt)("inlineCode",{parentName:"a"},"DefaultReturn")),">"),(0,a.kt)("p",null,"The default response with operation 'self-link'"),(0,a.kt)("h4",{id:"defined-in-11"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-backend/blob/573f496/login-service/src/api-login/register.controller.ts#L157"},"login-service/src/api-login/register.controller.ts:157")))}g.isMDXComponent=!0}}]);